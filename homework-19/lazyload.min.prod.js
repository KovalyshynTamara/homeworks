"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LazyLoad=e()}(void 0,function(){function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function l(t){return e({},Q,t)}function a(t,e){var n,o="LazyLoad::Initialized",a=new t(e);try{n=new CustomEvent(o,{detail:{instance:a}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:a})}window.dispatchEvent(n)}function M(t,e){return t.getAttribute("data-"+e)}function p(t){return M(t,"ll-status")}function m(t,e){return n=t,o="data-ll-status",void(null!==e?n.setAttribute(o,e):n.removeAttribute(o));var n,o}function h(t){return m(t,null),0}function y(t){return null===p(t)}function s(t){return p(t)===rt}function E(t,e,n,o){t&&(void 0===o?void 0===n?t(e):t(e,n):t(e,n,o))}function I(t,e){q?t.classList.add(e):t.className+=(t.className?" ":"")+e}function k(t,e){q?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function z(t){return t.llTempImage}function w(t,e){var n;!e||(n=e._observer)&&n.unobserve(t)}function A(t,e){t&&(t.loadingCount+=e)}function c(t,e){t&&(t.toLoadCount=e)}function o(t){for(var e,n=[],o=0;e=t.children[o];o+=1)"SOURCE"===e.tagName&&n.push(e);return n}function L(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&o(n).forEach(e)}function n(t,e){o(t).forEach(e)}function T(t){return!!t[tt]}function u(t){return t[tt]}function d(t){return delete t[tt]}function i(e,t){var n;T(e)||(n={},t.forEach(function(t){n[t]=e.getAttribute(t)}),e[tt]=n)}function r(a,t){var i;T(a)&&(i=u(a),t.forEach(function(t){var e,n,o;e=a,(o=i[n=t])?e.setAttribute(n,o):e.removeAttribute(n)}))}function R(t,e,n){I(t,e.class_applied),m(t,at),n&&(e.unobserve_completed&&w(t,e),E(e.callback_applied,t,n))}function S(t,e,n){I(t,e.class_loading),m(t,nt),n&&(A(n,1),E(e.callback_loading,t,n))}function f(t,e,n){n&&t.setAttribute(e,n)}function _(t,e){f(t,Y,M(t,e.data_sizes)),f(t,X,M(t,e.data_srcset)),f(t,W,M(t,e.data_src))}function g(t,e){!e||0<e.loadingCount||0<e.toLoadCount||E(t.callback_finish,e)}function b(t,e,n){t.addEventListener(e,n),t.llEvLisnrs[e]=n}function v(t){return!!t.llEvLisnrs}function O(t){if(v(t)){var e=t.llEvLisnrs;for(var n in e){var o=e[n];a=n,i=o,t.removeEventListener(a,i)}delete t.llEvLisnrs}var a,i}function x(t,e,n){delete t.llTempImage,A(n,-1),n&&--n.toLoadCount,k(t,e.class_loading),e.unobserve_completed&&w(t,n)}function G(n,o,a){var i=z(n)||n;v(i)||function(t){v(t)||(t.llEvLisnrs={});var e="VIDEO"===t.tagName?"loadeddata":"load";b(t,e,function(t){!function(t,e,n,o){var a=s(e);x(e,n,o),I(e,n.class_loaded),m(e,ot),E(n.callback_loaded,e,o),a||g(n,o)}(0,n,o,a),O(i)}),b(t,"error",function(t){!function(t,e,n,o){var a=s(e);x(e,n,o),I(e,n.class_error),m(e,it),E(n.callback_error,e,o),n.restore_on_error&&r(e,ut),a||g(n,o)}(0,n,o,a),O(i)})}(i)}function C(t,e,n){var o,a,i,r,l,c,s,u,d,f,_,g,b,v,p,m,h,y,E,I,k,w,A,L,O,x,C,N;-1<_t.indexOf(t.tagName)?(G(o=t,a=e,i=n),l=a,c=i,(s=ft[(r=o).tagName])&&(s(r,l),S(r,l,c))):(d=e,f=n,(u=t).llTempImage=document.createElement("IMG"),G(u,d,f),T(u)||(u[tt]={backgroundImage:u.style.backgroundImage}),O=f,x=M(A=u,(L=d).data_bg),C=M(A,L.data_bg_hidpi),(N=K&&C?C:x)&&(A.style.backgroundImage='url("'.concat(N,'")'),z(A).setAttribute(W,N),S(A,L,O)),E=f,I=M(h=u,(y=d).data_bg_multi),k=M(h,y.data_bg_multi_hidpi),(w=K&&k?k:I)&&(h.style.backgroundImage=w,R(h,y,E)),b=f,(m=M(_=u,(g=d).data_bg_set))&&(p=(v=m.split("|")).map(function(t){return"image-set(".concat(t,")")}),_.style.backgroundImage=p.join(),""===_.style.backgroundImage&&(p=v.map(function(t){return"-webkit-image-set(".concat(t,")")}),_.style.backgroundImage=p.join()),R(_,g,b)))}function N(t){t.removeAttribute(W),t.removeAttribute(X),t.removeAttribute(Y)}function j(t){L(t,function(t){r(t,ut)}),r(t,ut)}function D(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function H(t,b,v){t.forEach(function(t){return t.isIntersecting||0<t.intersectionRatio?(u=t.target,d=t,f=b,_=v,g=0<=lt.indexOf(p(u)),m(u,"entered"),I(u,f.class_entered),k(u,f.class_exited),f.unobserve_entered&&w(u,_),E(f.callback_enter,u,d,_),void(g||C(u,f,_))):(e=t.target,n=t,o=b,a=v,void(y(e)||(I(e,o.class_exited),i=e,r=n,c=a,(l=o).cancel_on_exit&&p(i)===nt&&"IMG"===i.tagName&&(O(i),L(s=i,function(t){N(t)}),N(s),j(i),k(i,l.class_loading),A(c,-1),h(i),E(l.callback_cancel,i,r,c)),E(o.callback_exit,e,n,a))));var e,n,o,a,i,r,l,c,s,u,d,f,_,g})}function V(t){return Array.prototype.slice.call(t)}function F(t){return t.container.querySelectorAll(t.elements_selector)}function B(t){return p(t)===it}function J(t,e){return n=t||F(e),V(n).filter(y);var n}function t(t,e){var o,a,n,i,r=l(t);this._settings=r,this.loadingCount=0,n=r,i=this,$&&!D(n)&&(i._observer=new IntersectionObserver(function(t){H(t,n,i)},{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"})),o=r,a=this,P&&(a._onlineHandler=function(){var e,t,n;t=a,n=F(e=o),V(n).filter(B).forEach(function(t){k(t,e.class_error),h(t)}),t.update()},window.addEventListener("online",a._onlineHandler)),this.update(e)}var P="undefined"!=typeof window,U=P&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),$=P&&"IntersectionObserver"in window,q=P&&"classList"in document.createElement("p"),K=P&&1<window.devicePixelRatio,Q={elements_selector:".lazy",container:U||P?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},W="src",X="srcset",Y="sizes",Z="poster",tt="llOriginalAttrs",et="data",nt="loading",ot="loaded",at="applied",it="error",rt="native",lt=[nt,ot,at,it],ct=[W],st=[W,Z],ut=[W,X,Y],dt=[et],ft={IMG:function(t,e){L(t,function(t){i(t,ut),_(t,e)}),i(t,ut),_(t,e)},IFRAME:function(t,e){i(t,ct),f(t,W,M(t,e.data_src))},VIDEO:function(t,e){n(t,function(t){i(t,ct),f(t,W,M(t,e.data_src))}),i(t,st),f(t,Z,M(t,e.data_poster)),f(t,W,M(t,e.data_src)),t.load()},OBJECT:function(t,e){i(t,dt),f(t,et,M(t,e.data_src))}},_t=["IMG","IFRAME","VIDEO","OBJECT"],gt={IMG:j,IFRAME:function(t){r(t,ct)},VIDEO:function(t){n(t,function(t){r(t,ct)}),r(t,st),t.load()},OBJECT:function(t){r(t,dt)}},bt=["IMG","IFRAME","VIDEO"];return t.prototype={update:function(t){var e,n,o,i,r,a=this._settings,l=J(t,a);c(this,l.length),!U&&$?D(a)?(i=a,r=this,l.forEach(function(t){var e,n,o,a;-1!==bt.indexOf(t.tagName)&&(n=i,o=r,(e=t).setAttribute("loading","lazy"),G(e,n,o),(a=ft[e.tagName])&&a(e,n),m(e,rt))}),c(r,0)):(n=l,(e=this._observer).disconnect(),o=e,n.forEach(function(t){o.observe(t)})):this.loadAll(l)},destroy:function(){this._observer&&this._observer.disconnect(),P&&window.removeEventListener("online",this._onlineHandler),F(this._settings).forEach(function(t){d(t)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var e=this,n=this._settings;J(t,n).forEach(function(t){w(t,e),C(t,n,e)})},restoreAll:function(){var c=this._settings;F(c).forEach(function(t){var e,n,o,a,i,r,l;n=c,(l=gt[(i=e=t).tagName])?l(i):T(i)&&(r=u(i),i.style.backgroundImage=r.backgroundImage),a=n,y(o=e)||s(o)||(k(o,a.class_entered),k(o,a.class_exited),k(o,a.class_applied),k(o,a.class_loading),k(o,a.class_loaded),k(o,a.class_error)),h(e),d(e)})}},t.load=function(t,e){var n=l(e);C(t,n)},t.resetStatus=function(t){h(t)},P&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)a(t,n);else a(t,e)}(t,window.lazyLoadOptions),t});